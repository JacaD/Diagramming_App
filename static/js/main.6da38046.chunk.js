(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,a,t){e.exports=t(32)},31:function(e,a,t){},32:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),r=t(12),o=t.n(r),d=t(10),c=t(14),l=Object(d.b)({modified:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DIAGRAM_MODIFIED":return Object(c.a)({},e,{modified:a.modified});default:return e}},diagram:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DIAGRAM":return Object(c.a)({},e,{diagram:a.diagram});default:return e}}}),s=Object(d.c)(l,{modified:!1}),m=t(7),u=t(2),g=t(3),p=t(5),f=t(4),h=t(6),b=function(e){return{type:"DIAGRAM_MODIFIED",modified:e}},k=t(1),v=t.n(k);var O=function(e){return(0,v.a.GraphObject.make)(v.a.Diagram,e,{initialContentAlignment:v.a.Spot.Center,allowDrop:!0,scrollsPageOnFocus:!1,"undoManager.isEnabled":!0,"toolManager.mouseWheelBehavior":v.a.ToolManager.WheelZoom,"commandHandler.archetypeGroupData":{isGroup:!0,category:"OfNodes"}})};var j=function(){var e=v.a.GraphObject.make;return e(v.a.Node,"Spot",new v.a.Binding("location","loc",v.a.Point.parse).makeTwoWay(v.a.Point.stringify),e(v.a.Panel,"Auto",e(v.a.Shape,"Rectangle",{minSize:new v.a.Size(40,40),stroke:null,portId:"",cursor:"pointer"},new v.a.Binding("fromLinkable","from"),new v.a.Binding("toLinkable","to"),new v.a.Binding("fill","color"),new v.a.Binding("figure").makeTwoWay()),e(v.a.TextBlock,"",{font:"bold 11pt H elvetica, Arial, sans-serif",stroke:"whitesmoke"},new v.a.Binding("text","name").makeTwoWay())),{resizable:!0,mouseDrop:function(e,a){!function(e,a){(null!==a?a.addMembers(a.diagram.selection,!0):e.diagram.commandHandler.addTopLevelParts(e.diagram.selection,!0))||e.diagram.currentTool.doCancel()}(e,a.containingGroup)}})};var y=function(){var e=v.a.GraphObject.make;return e(v.a.Group,"Vertical",{background:"transparent",computesBoundsAfterDrag:!0,mouseDrop:function(e,a){(null!==a?a.addMembers(a.diagram.selection,!0):e.diagram.commandHandler.addTopLevelParts(e.diagram.selection,!0))||e.diagram.currentTool.doCancel()},handlesDragDropForMembers:!0,layout:e(v.a.GridLayout,{wrappingWidth:1/0,alignment:v.a.GridLayout.Position,cellSize:new v.a.Size(1,1),spacing:new v.a.Size(4,4)})},e(v.a.TextBlock,{name:"TxtBlock",alignment:v.a.Spot.Left,font:"Bold 12pt Sans-Serif",editable:!0},new v.a.Binding("text","Name")),e(v.a.Panel,"Auto",e(v.a.Shape,"RoundedRectangle",{name:"SHAPE",parameter1:14,fill:"rgba(128,128,128,0.33)",minSize:new v.a.Size(80,80)},new v.a.Binding("desiredSize","desiredSize",function(e){return new v.a.Size(e.width,e.height-(e.height>40?20:0))}).ofObject()),e(v.a.Placeholder,{padding:5})),new v.a.Binding("location","loc",v.a.Point.parse).makeTwoWay(v.a.Point.stringify))};var w=function(){var e=v.a.GraphObject.make;return e(v.a.Link,{routing:v.a.Link.Orthogonal,corner:5,curve:v.a.Link.JumpOver,toShortLength:4,relinkableFrom:!0,relinkableTo:!0,reshapable:!0,resegmentable:!0},e(v.a.Shape,{isPanelMain:!0,stroke:"green",strokeWidth:2}),e(v.a.Shape,{toArrow:"standard",stroke:null,fill:"green"}),e(v.a.Panel,"Auto",e(v.a.Shape,"RoundedRectangle",{fill:"#F8F8F8",stroke:"green"}),e(v.a.TextBlock,"Info",{width:100,wrap:v.a.TextBlock.WrapFit,isMultiline:!0,textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#333333",editable:!0},new v.a.Binding("text").makeTwoWay())))};var T=function(e){var a=function(e,a,t,n){return e.data.figure!==t.data.figure};e.toolManager.linkingTool.linkValidation=a,e.toolManager.relinkingTool.linkValidation=a,e.model.linkFromPortIdProperty="fromPort",e.model.linkToPortIdProperty="toPort",e.toolManager.linkingTool.temporaryLink.routing=v.a.Link.Orthogonal,e.toolManager.relinkingTool.temporaryLink.routing=v.a.Link.Orthogonal,e.addModelChangedListener(function(a){"figure"===a.propertyName&&function(a){for(var t=(a=e.findNodeForKey(a.key)).findLinksConnected(),n=[];t.next();){var i=t.value;i.fromNode.data.key!==a.data.key&&i.fromNode.data.figure===a.data.figure?n.push(i):i.toNode.data.key!==a.data.key&&i.toNode.data.figure===a.data.figure&&n.push(i)}e.startTransaction("Remove invalid links"),e.removeParts(n),e.commitTransaction("Remove invalid links")}(a.object)})};var E=function(e){var a,t;document.addEventListener("mousemove",function(e){a=e.pageX,t=e.pageY}),document.addEventListener("keydown",function(n){"n"===n.key&&(e.startTransaction("add node"),e.model.addNodeData({name:"green",stroke:"white",color:"lime",figure:"RoundedRectangle",from:!0,to:!0,loc:a+e.position.x-e.div.offsetLeft+" "+(t+e.position.y-e.div.offsetTop)}),e.commitTransaction("add node"))})},M=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.diagram=O(this.props.id),this.diagram.nodeTemplate=j(),this.diagram.groupTemplate=y(),this.diagram.linkTemplate=w(),T(this.diagram),E(this.diagram),this.addModifiedListener(),this.props.diagram(this.diagram)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:this.props.id}))}},{key:"addModifiedListener",value:function(){var e=this;this.diagram.addDiagramListener("Modified",function(a){e.props.diagramModified(!0)})}}]),a}(n.Component),S={diagramModified:b,diagram:function(e){return{type:"DIAGRAM",diagram:e}}},C=M=Object(m.b)(function(e){return{modified:e.modified,diagram:e.diagram}},S)(M);var D=function(e){return(0,v.a.GraphObject.make)(v.a.Palette,e,{scrollsPageOnFocus:!1,model:new v.a.GraphLinksModel([{name:"green",stroke:"white",color:"lime",figure:"RoundedRectangle",from:!0,to:!0},{name:"blue",stroke:"white",color:"blue",figure:"Rectangle",from:!0,to:!0},{name:"red",stroke:"white",color:"red",figure:"Triangle",from:!0,to:!0},{stroke:"white",Name:"Group",isGroup:!0}])})},L=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.palette=D(this.props.id),this.palette.nodeTemplate=j(),this.palette.groupTemplate=y()}},{key:"render",value:function(){return i.a.createElement("div",{id:this.props.id})}}]),a}(n.Component),A=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:this.props.id},this.props.modified.modified?"Diagramming App*":"Diagramming App")}}]),a}(n.Component),P=A=Object(m.b)(function(e){return{modified:e.modified}})(A),B=(t(31),t(21)),R=function(e){var a=e.options,t=e.onChange,n=Object(B.a)(e,["options","onChange"]);return i.a.createElement("select",Object.assign({onChange:t},n),a.map(function(e){return i.a.createElement("option",{key:e,value:e},e)}))},G=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={colors:["green","yellow","blue","red","purple"],figures:["RoundedRectangle","Triangle","Rectangle"],inspectedObject:null},t.inspectObject=function(e){var a=t.props.diagram,n=e;void 0===n&&(n=a.selection.first()),n instanceof v.a.Group||n instanceof v.a.Link?t.setState({inspectedObject:null}):(null!==n&&t.inspectedObject!==n||t.setState({inspectedObject:n}),t.setState({inspectedObject:n}))},t.update=function(e,a){var n=t.props.diagram,i=t.state.inspectedObject;null!==i&&(n.startTransaction("set all properties"),n.model.setDataProperty(i.data,a,e),n.commitTransaction("set all properties"))},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.diagram;a.addModelChangedListener(function(a){a.isTransactionFinished&&e.inspectObject()}),a.addDiagramListener("ChangedSelection",function(){return e.inspectObject()})}},{key:"render",value:function(){var e=this;return null===this.state.inspectedObject?i.a.createElement("div",{id:this.props.id}):i.a.createElement("div",{id:this.props.id},i.a.createElement("input",{type:"text",onChange:function(a){return e.update(a.target.value,"name")}}),i.a.createElement(R,{onChange:function(a){return e.update(a.target.value,"color")},options:this.state.colors}),i.a.createElement(R,{onChange:function(a){return e.update(a.target.value,"figure")},options:this.state.figures}))}}]),a}(n.Component),I=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t.tools=[{name:"Zoom In",onClick:function(){return t.props.diagram.diagram.commandHandler.increaseZoom()}},{name:"Zoom Out",onClick:function(){return t.props.diagram.diagram.commandHandler.decreaseZoom()}},{name:"Undo",onClick:function(){return t.props.diagram.diagram.commandHandler.undo()}},{name:"Redo",onClick:function(){return t.props.diagram.diagram.commandHandler.redo()}},{name:"Save",onClick:function(){sessionStorage.savedDiagram=t.props.diagram.diagram.model.toJson(),t.props.diagram.diagram.isModified=!1,t.props.diagramModified(!1)}},{name:"Load",onClick:function(){sessionStorage.savedDiagram&&(t.props.diagram.diagram.model=v.a.Model.fromJson(sessionStorage.savedDiagram))}}],t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return 0!==Object.keys(this.props.diagram).length&&i.a.createElement("div",{id:"tools"},this.tools.map(function(e){return i.a.createElement("button",{className:"toolsButton",key:e.name,onClick:e.onClick},e.name)}))}}]),a}(n.Component),F={diagramModified:b},x=I=Object(m.b)(function(e){return{diagram:e.diagram,modified:e.modified}},F)(I);var z=function(e){return e.makeImage({type:"image/jpg",size:new v.a.Size(250,250),background:"white"})},N=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={image:null},t.makeThumbnail=function(){t.setState({image:0!==Object.keys(t.props.diagram).length&&z(t.props.diagram.diagram)})},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"thumbnail"},i.a.createElement("button",{className:"toolsButton",onClick:this.makeThumbnail},"Make Image"),i.a.createElement("div",null,i.a.createElement("img",{src:null===this.state.image?"":this.state.image.src,alt:""})))}}]),a}(n.Component),W=N=Object(m.b)(function(e){return{diagram:e.diagram}})(N),H=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:this.props.id},0!==Object.keys(this.props.diagram).length&&i.a.createElement(G,{diagram:this.props.diagram.diagram,id:"inspector"}),i.a.createElement(x,{tools:this.tools}),i.a.createElement(W,null))}}]),a}(n.Component),J=H=Object(m.b)(function(e){return{diagram:e.diagram}})(H);var Z=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{id:"upperBar"}),i.a.createElement("div",{id:"main"},i.a.createElement(L,{id:"palette"}),i.a.createElement(C,{id:"diagram"}),i.a.createElement(J,{id:"menu"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(m.a,{store:s},i.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.6da38046.chunk.js.map