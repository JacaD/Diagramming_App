(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,a,t){e.exports=t(32)},31:function(e,a,t){},32:function(e,a,t){"use strict";t.r(a);var n=t(1),i=t.n(n),r=t(12),o=t.n(r),l=t(10),d=t(14),c=Object(l.b)({modified:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DIAGRAM_MODIFIED":return Object(d.a)({},e,{modified:a.modified});default:return e}},diagram:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DIAGRAM":return Object(d.a)({},e,{diagram:a.diagram});default:return e}}}),s=Object(l.c)(c,{modified:!1}),u=t(2),m=t(3),g=t(4),p=t(6),f=t(5),h=t(7),b=function(e){return{type:"DIAGRAM_MODIFIED",modified:e}},k=t(0),v=t.n(k);var w=function(){var e=v.a.GraphObject.make;return e(v.a.Node,"Spot",new v.a.Binding("location","loc",v.a.Point.parse).makeTwoWay(v.a.Point.stringify),e(v.a.Panel,"Auto",e(v.a.Shape,"Rectangle",{stroke:"white",portId:"",cursor:"pointer",fill:"Green"},new v.a.Binding("fromLinkable","from"),new v.a.Binding("toLinkable","to"),new v.a.Binding("fill","color").makeTwoWay(),new v.a.Binding("figure").makeTwoWay()),e(v.a.TextBlock,"",{wrap:v.a.TextBlock.WrapFit,font:"bold 11pt Helvetica, Arial, sans-serif",stroke:"whitesmoke"},new v.a.Binding("text","name").makeTwoWay(),new v.a.Binding("naturalBounds","textSize").ofObject())),{stretch:v.a.GraphObject.Fill,resizable:!0,minSize:new v.a.Size(40,40),mouseDrop:function(e,a){!function(e,a){(null!==a?a.addMembers(a.diagram.selection,!0):e.diagram.commandHandler.addTopLevelParts(e.diagram.selection,!0))||e.diagram.currentTool.doCancel()}(e,a.containingGroup)}})};var O=function(){var e=v.a.GraphObject.make;return e(v.a.Node,"Spot",new v.a.Binding("location","loc",v.a.Point.parse).makeTwoWay(v.a.Point.stringify),e(v.a.Panel,"Auto",e(v.a.Shape,"Triangle",{stroke:"white",portId:"",cursor:"pointer",fill:"Red"},new v.a.Binding("fromLinkable","from"),new v.a.Binding("toLinkable","to"),new v.a.Binding("fill","color"),new v.a.Binding("figure").makeTwoWay()),e(v.a.TextBlock,"",{wrap:v.a.TextBlock.WrapFit,font:"bold 11pt Helvetica, Arial, sans-serif",stroke:"whitesmoke"},new v.a.Binding("text","name").makeTwoWay(),new v.a.Binding("naturalBounds","textSize").ofObject())),{stretch:v.a.GraphObject.Fill,resizable:!0,minSize:new v.a.Size(40,40),mouseDrop:function(e,a){!function(e,a){(null!==a?a.addMembers(a.diagram.selection,!0):e.diagram.commandHandler.addTopLevelParts(e.diagram.selection,!0))||e.diagram.currentTool.doCancel()}(e,a.containingGroup)}})};var y=function(){var e=v.a.GraphObject.make;return e(v.a.Node,"Spot",new v.a.Binding("location","loc",v.a.Point.parse).makeTwoWay(v.a.Point.stringify),e(v.a.Panel,"Auto",e(v.a.Shape,"RoundedRectangle",{stroke:"white",portId:"",cursor:"pointer",fill:"Blue"},new v.a.Binding("fromLinkable","from"),new v.a.Binding("toLinkable","to"),new v.a.Binding("fill","color"),new v.a.Binding("figure").makeTwoWay()),e(v.a.TextBlock,"",{wrap:v.a.TextBlock.WrapFit,font:"bold 11pt Helvetica, Arial, sans-serif",stroke:"whitesmoke"},new v.a.Binding("text","name").makeTwoWay(),new v.a.Binding("naturalBounds","textSize").ofObject())),{stretch:v.a.GraphObject.Fill,resizable:!0,minSize:new v.a.Size(40,40),mouseDrop:function(e,a){!function(e,a){(null!==a?a.addMembers(a.diagram.selection,!0):e.diagram.commandHandler.addTopLevelParts(e.diagram.selection,!0))||e.diagram.currentTool.doCancel()}(e,a.containingGroup)}})};var j=function(){var e=new v.a.Map;return e.add("Triangle",O()),e.add("Rectangle",w()),e.add("RoundedRectangle",y()),e};var T=function(){var e=v.a.GraphObject.make;return e(v.a.Group,"Vertical",{background:"transparent",computesBoundsAfterDrag:!0,mouseDrop:function(e,a){(null!==a?a.addMembers(a.diagram.selection,!0):e.diagram.commandHandler.addTopLevelParts(e.diagram.selection,!0))||e.diagram.currentTool.doCancel()},handlesDragDropForMembers:!0,layout:e(v.a.GridLayout,{wrappingWidth:1/0,alignment:v.a.GridLayout.Position,cellSize:new v.a.Size(1,1),spacing:new v.a.Size(4,4)})},e(v.a.TextBlock,{name:"TxtBlock",alignment:v.a.Spot.Left,font:"Bold 12pt Sans-Serif",editable:!0},new v.a.Binding("text","Name")),e(v.a.Panel,"Auto",e(v.a.Shape,"RoundedRectangle",{name:"SHAPE",parameter1:14,fill:"rgba(128,128,128,0.33)",minSize:new v.a.Size(80,80)},new v.a.Binding("desiredSize","desiredSize",function(e){return new v.a.Size(e.width,e.height-(e.height>40?20:0))}).ofObject()),e(v.a.Placeholder,{padding:5})),new v.a.Binding("location","loc",v.a.Point.parse).makeTwoWay(v.a.Point.stringify))};var B=function(){var e=v.a.GraphObject.make;return e(v.a.Link,{routing:v.a.Link.Orthogonal,corner:5,curve:v.a.Link.JumpOver,toShortLength:4,relinkableFrom:!0,relinkableTo:!0,reshapable:!0,resegmentable:!0},e(v.a.Shape,{isPanelMain:!0,stroke:"green",strokeWidth:2}),e(v.a.Shape,{toArrow:"standard",stroke:null,fill:"green"}),e(v.a.Panel,"Auto",e(v.a.Shape,"RoundedRectangle",{fill:"#F8F8F8",stroke:"green"}),e(v.a.TextBlock,"Info",{width:100,wrap:v.a.TextBlock.WrapFit,isMultiline:!0,textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#333333",editable:!0},new v.a.Binding("text").makeTwoWay())))};var S=function(e){var a=function(e,a,t,n){return e.data.figure!==t.data.figure};e.toolManager.linkingTool.linkValidation=a,e.toolManager.relinkingTool.linkValidation=a,e.model.linkFromPortIdProperty="fromPort",e.model.linkToPortIdProperty="toPort",e.toolManager.linkingTool.temporaryLink.routing=v.a.Link.Orthogonal,e.toolManager.relinkingTool.temporaryLink.routing=v.a.Link.Orthogonal,e.addModelChangedListener(function(a){"figure"===a.propertyName&&function(a){for(var t=(a=e.findNodeForKey(a.key)).findLinksConnected(),n=[];t.next();){var i=t.value;i.fromNode.data.key!==a.data.key&&i.fromNode.data.figure===a.data.figure?n.push(i):i.toNode.data.key!==a.data.key&&i.toNode.data.figure===a.data.figure&&n.push(i)}e.startTransaction("Remove invalid links"),e.removeParts(n),e.commitTransaction("Remove invalid links")}(a.object)})};var M=function(e){var a,t;document.addEventListener("mousemove",function(e){a=e.pageX,t=e.pageY}),document.addEventListener("keydown",function(n){n.shiftKey&&"D"===n.key&&(e.startTransaction("add node"),e.model.addNodeData({name:"Green",stroke:"white",color:"Green",category:"RoundedRectangle",figure:"RoundedRectangle",from:!0,to:!0,loc:a+e.position.x-e.div.offsetLeft+" "+(t+e.position.y-e.div.offsetTop)}),e.commitTransaction("add node"))})};var R=function(e){var a=(0,v.a.GraphObject.make)(v.a.Diagram,e,{initialContentAlignment:v.a.Spot.Center,allowDrop:!0,scrollsPageOnFocus:!1,"undoManager.isEnabled":!0,"toolManager.mouseWheelBehavior":v.a.ToolManager.WheelZoom,"commandHandler.archetypeGroupData":{isGroup:!0,category:"OfNodes"}});return a.nodeTemplateMap=j(),a.groupTemplate=T(),a.linkTemplate=B(),S(a),M(a),a},E=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.diagram=R(this.props.id),this.props.diagram(this.diagram),this.addModifiedListener()}},{key:"render",value:function(){return i.a.createElement("div",{id:this.props.id})}},{key:"addModifiedListener",value:function(){var e=this;this.diagram.addDiagramListener("Modified",function(a){e.props.diagramModified(!0)})}}]),a}(n.Component),G={diagramModified:b,diagram:function(e){return{type:"DIAGRAM",diagram:e}}},L=E=Object(u.b)(function(e){return{modified:e.modified,diagram:e.diagram}},G)(E);var P=function(e){return(0,v.a.GraphObject.make)(v.a.Palette,e,{scrollsPageOnFocus:!1,model:new v.a.GraphLinksModel([{name:"Green",category:"RoundedRectangle",figure:"RoundedRectangle",color:"Green",from:!0,to:!0},{name:"Blue",color:"Blue",category:"Rectangle",figure:"Rectangle",from:!0,to:!0},{name:"Red",color:"Red",category:"Triangle",figure:"Triangle",from:!0,to:!0},{stroke:"white",Name:"Group",isGroup:!0}])})},D=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.palette=P(this.props.id),this.palette.nodeTemplateMap=j(),this.palette.groupTemplate=T()}},{key:"render",value:function(){return i.a.createElement("div",{id:this.props.id})}}]),a}(n.Component),C=Object(u.b)(function(e){return{modified:e.modified}})(function(e){var a=e.id,t=e.modified;return i.a.createElement("div",{id:a},t.modified?"Diagramming App*":"Diagramming App")}),A=(t(31),t(21)),x=function(e){var a=e.options,t=e.onChange,n=e.def,r=Object(A.a)(e,["options","onChange","def"]);return i.a.createElement("select",Object.assign({onChange:t},r,{defaultValue:n}),a.map(function(e,a){return i.a.createElement("option",{key:a,value:e.value},e.label)}))},F=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(p.a)(this,Object(f.a)(a).call(this,e))).state={colors:[{value:"Green",label:"Green"},{value:"Grey",label:"Grey"},{value:"Blue",label:"Blue"},{value:"Red",label:"Red"},{value:"Purple",label:"Purple"}],figures:[{value:"RoundedRectangle",label:"Rounded Rectangle"},{value:"Triangle",label:"Triangle"},{value:"Rectangle",label:"Rectangle"}],inspectedObject:null},t.inspectObject=function(e){var a=t.props.diagram,n=e;void 0===n&&(n=a.selection.first(),t.updateFields()),n instanceof v.a.Group||n instanceof v.a.Link?t.setState({inspectedObject:null}):(null!==n&&t.inspectedObject!==n||t.setState({inspectedObject:n}),t.setState({inspectedObject:n}),t.updateFields())},t.updateFields=function(){null!==t.state.inspectedObject&&null!==t.state.inspectedObject.data&&void 0!==t.state.inspectedObject&&t.setState({nameInput:t.state.inspectedObject.data.name,colorSelect:t.state.inspectedObject.data.color,figureSelect:t.state.inspectedObject.data.figure})},t.update=function(e,a){var n=t.props.diagram,i=t.state.inspectedObject;null!==i&&(n.startTransaction("set all properties"),n.model.setDataProperty(i.data,a,e),n.commitTransaction("set all properties"))},t.state.nameInput="",t.state.colorSelect="",t.state.categorySelect="",t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.diagram;a.addModelChangedListener(function(a){a.isTransactionFinished&&e.inspectObject()}),a.addDiagramListener("ChangedSelection",function(){e.inspectObject()})}},{key:"render",value:function(){var e=this;return null===this.state.inspectedObject?i.a.createElement("div",{id:this.props.id}):i.a.createElement("div",{id:this.props.id},i.a.createElement("input",{type:"text",onChange:function(a){return e.update(a.target.value,"name")},value:this.state.nameInput}),i.a.createElement(x,{onChange:function(a){return e.update(a.target.value,"color")},options:this.state.colors,value:this.state.colorSelect}),i.a.createElement(x,{onChange:function(a){return e.update(a.target.value,"figure")},options:this.state.figures,value:this.state.figureSelect}))}}]),a}(n.Component),z=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={},t.tools=[{name:"Zoom In",onClick:function(){return t.props.diagram.diagram.commandHandler.increaseZoom()}},{name:"Zoom Out",onClick:function(){return t.props.diagram.diagram.commandHandler.decreaseZoom()}},{name:"Undo",onClick:function(){return t.props.diagram.diagram.commandHandler.undo()}},{name:"Redo",onClick:function(){return t.props.diagram.diagram.commandHandler.redo()}},{name:"Save",onClick:function(){sessionStorage.savedDiagram=t.props.diagram.diagram.model.toJson(),t.props.diagram.diagram.isModified=!1,t.props.diagramModified(!1)}},{name:"Load",onClick:function(){sessionStorage.savedDiagram&&(t.props.diagram.diagram.model=v.a.Model.fromJson(sessionStorage.savedDiagram))}}],t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return 0!==Object.keys(this.props.diagram).length&&i.a.createElement("div",{id:"tools"},this.tools.map(function(e){return i.a.createElement("button",{className:"toolsButton",key:e.name,onClick:e.onClick},e.name)}))}}]),a}(n.Component),W={diagramModified:b},I=z=Object(u.b)(function(e){return{diagram:e.diagram,modified:e.modified}},W)(z);var N=function(e){return e.makeImage({type:"image/jpg",size:new v.a.Size(250,250),background:"white"})},H=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(p.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(i)))).state={image:null},t.makeThumbnail=function(){t.setState({image:0!==Object.keys(t.props.diagram).length&&N(t.props.diagram.diagram)})},t}return Object(h.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"thumbnail"},i.a.createElement("button",{className:"toolsButton",onClick:this.makeThumbnail},"Make Image"),i.a.createElement("div",null,i.a.createElement("img",{src:null===this.state.image?"":this.state.image.src,alt:""})))}}]),a}(n.Component),J=H=Object(u.b)(function(e){return{diagram:e.diagram}})(H),Z=Object(u.b)(function(e){return{diagram:e.diagram}})(function(e){var a=e.id,t=e.diagram;return i.a.createElement("div",{id:a},0!==Object.keys(t).length&&i.a.createElement(F,{diagram:t.diagram,id:"inspector"}),i.a.createElement(I,null),i.a.createElement(J,null))});var V=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(C,{id:"upperBar"}),i.a.createElement("div",{id:"main"},i.a.createElement(D,{id:"palette"}),i.a.createElement(L,{id:"diagram"}),i.a.createElement(Z,{id:"menu"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(u.a,{store:s},i.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.f86c594f.chunk.js.map