{"version":3,"sources":["store/reducers/index.js","store/reducers/modified.js","store/reducers/diagram.js","store/store.js","store/actions/index.js","goJs/elements/diagram.js","goJs/templates/nodeTemplates/rectangleTemplate.js","goJs/templates/nodeTemplates/triangleTemplate.js","goJs/templates/nodeTemplates/roundedRectangleTemplate.js","goJs/templates/nodeTemplates.js","goJs/templates/groupTemplate.js","goJs/templates/linkTemplate.js","goJs/validators/linkValidation.js","goJs/shortcuts/shortcuts.js","components/diagram.jsx","goJs/elements/palette.js","components/palette.jsx","components/upperBar.jsx","components/common/select.jsx","components/inspector.jsx","components/tools.jsx","goJs/thumbnails/thumbnails.js","components/thumbnail.jsx","components/menu.jsx","App.js","serviceWorker.js","index.js"],"names":["combineReducers","modified","state","arguments","length","undefined","action","type","Object","objectSpread","diagram","store","createStore","reducers","diagramModified","getDiagram","diagramDiv","$","go","GraphObject","make","Diagram","initialContentAlignment","Spot","Center","allowDrop","scrollsPageOnFocus","undoManager.isEnabled","toolManager.mouseWheelBehavior","ToolManager","WheelZoom","commandHandler.archetypeGroupData","isGroup","category","getRectangleTemplate","Node","Binding","Point","parse","makeTwoWay","stringify","Panel","Shape","stroke","portId","cursor","fill","TextBlock","wrap","WrapFit","font","ofObject","stretch","Fill","resizable","minSize","Size","mouseDrop","e","nod","grp","addMembers","selection","commandHandler","addTopLevelParts","currentTool","doCancel","finishDrop","containingGroup","getTriangleTemplate","getRoundedRectangleTemplate","getNodeTemplates","templateMap","Map","add","getGroupTemplate","Group","background","computesBoundsAfterDrag","handlesDragDropForMembers","layout","GridLayout","wrappingWidth","Infinity","alignment","Position","cellSize","spacing","name","Left","editable","parameter1","size","width","height","Placeholder","padding","getLinkTemplate","Link","routing","Orthogonal","corner","curve","JumpOver","toShortLength","relinkableFrom","relinkableTo","reshapable","resegmentable","isPanelMain","strokeWidth","toArrow","isMultiline","textAlign","addLinkValidationToDiagram","sameFigure","fromnode","fromport","tonode","toport","data","figure","toolManager","linkingTool","linkValidation","relinkingTool","model","linkFromPortIdProperty","linkToPortIdProperty","temporaryLink","addModelChangedListener","propertyName","object","connectedLinks","findNodeForKey","key","findLinksConnected","toDelete","next","link","value","fromNode","push","toNode","startTransaction","removeParts","commitTransaction","checkLinks","addShortcutsToDiagram","x","y","document","addEventListener","pageX","pageY","addNodeData","color","loc","position","div","offsetLeft","offsetTop","this","props","id","nodeTemplateMap","groupTemplate","linkTemplate","addModifiedListener","react_default","a","createElement","_this2","addDiagramListener","Component","mapDispatchToProps","connect","getPalette","paletteDiv","Palette","GraphLinksModel","from","to","Name","palette","UpperBar","Select","_ref","options","onChange","def","rest","objectWithoutProperties","assign","defaultValue","map","option","n","label","Inspector","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","colors","figures","inspectedObject","inspectObject","first","updateFields","setState","nameInput","colorSelect","figureSelect","update","setDataProperty","categorySelect","isTransactionFinished","_this3","target","common_select","Tools","tools","onClick","increaseZoom","decreaseZoom","undo","redo","sessionStorage","savedDiagram","toJson","isModified","Model","fromJson","keys","tool","className","makeThumbnail","makeImage","Thumbnail","image","src","alt","Menu","inspector","thumbnail","App","Fragment","upperBar","components_palette","components_diagram","menu","Boolean","window","location","hostname","match","ReactDOM","render","es","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.913973c2.chunk.js","sourcesContent":["import { combineReducers } from \"redux\";\r\nimport { modified } from \"./modified\";\r\nimport { diagram } from \"./diagram\";\r\n\r\nexport default combineReducers({\r\n  modified,\r\n  diagram\r\n});\r\n","export const modified = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"DIAGRAM_MODIFIED\":\r\n      return { ...state, modified: action.modified };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const diagram = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"DIAGRAM\":\r\n      return { ...state, diagram: action.diagram };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore } from \"redux\";\r\nimport reducers from \"./reducers\";\r\n\r\nexport const store = createStore(reducers, { modified: false });\r\n","export const diagramModified = modified => ({\r\n  type: \"DIAGRAM_MODIFIED\",\r\n  modified\r\n});\r\n\r\nexport const diagram = diagram => ({\r\n  type: \"DIAGRAM\",\r\n  diagram\r\n});\r\n","import go from \"gojs\";\r\n\r\nfunction getDiagram(diagramDiv) {\r\n  let $ = go.GraphObject.make;\r\n  return $(go.Diagram, diagramDiv, {\r\n    initialContentAlignment: go.Spot.Center,\r\n    allowDrop: true,\r\n    scrollsPageOnFocus: false,\r\n    \"undoManager.isEnabled\": true,\r\n    \"toolManager.mouseWheelBehavior\": go.ToolManager.WheelZoom,\r\n    \"commandHandler.archetypeGroupData\": {\r\n      isGroup: true,\r\n      category: \"OfNodes\"\r\n    }\r\n  });\r\n}\r\n\r\nexport default getDiagram;\r\n","import go from \"gojs\";\r\n\r\nfunction getRectangleTemplate() {\r\n  let $ = go.GraphObject.make;\r\n\r\n  function finishDrop(e, grp) {\r\n    var ok =\r\n      grp !== null\r\n        ? grp.addMembers(grp.diagram.selection, true)\r\n        : e.diagram.commandHandler.addTopLevelParts(e.diagram.selection, true);\r\n    if (!ok) e.diagram.currentTool.doCancel();\r\n  }\r\n\r\n  return $(\r\n    go.Node,\r\n    \"Spot\",\r\n    new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n      go.Point.stringify\r\n    ),\r\n    $(\r\n      go.Panel,\r\n      \"Auto\",\r\n      $(\r\n        go.Shape,\r\n        \"Rectangle\",\r\n        {\r\n          stroke: \"white\",\r\n          portId: \"\",\r\n          cursor: \"pointer\",\r\n          fill: \"Green\"\r\n        },\r\n        new go.Binding(\"fromLinkable\", \"from\"),\r\n        new go.Binding(\"toLinkable\", \"to\"),\r\n        new go.Binding(\"fill\", \"color\").makeTwoWay(),\r\n        new go.Binding(\"figure\").makeTwoWay()\r\n      ),\r\n      $(\r\n        go.TextBlock,\r\n        \"\",\r\n        {\r\n          wrap: go.TextBlock.WrapFit,\r\n          font: \"bold 11pt Helvetica, Arial, sans-serif\",\r\n          stroke: \"whitesmoke\"\r\n        },\r\n        new go.Binding(\"text\", \"name\").makeTwoWay(),\r\n        new go.Binding(\"naturalBounds\", \"textSize\").ofObject()\r\n      )\r\n    ),\r\n    {\r\n      stretch: go.GraphObject.Fill,\r\n      resizable: true,\r\n      minSize: new go.Size(40, 40),\r\n      mouseDrop: function(e, nod) {\r\n        finishDrop(e, nod.containingGroup);\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\nexport default getRectangleTemplate;\r\n","import go from \"gojs\";\r\n\r\nfunction getTriangleTemplate() {\r\n  let $ = go.GraphObject.make;\r\n\r\n  function finishDrop(e, grp) {\r\n    var ok =\r\n      grp !== null\r\n        ? grp.addMembers(grp.diagram.selection, true)\r\n        : e.diagram.commandHandler.addTopLevelParts(e.diagram.selection, true);\r\n    if (!ok) e.diagram.currentTool.doCancel();\r\n  }\r\n\r\n  return $(\r\n    go.Node,\r\n    \"Spot\",\r\n    new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n      go.Point.stringify\r\n    ),\r\n    $(\r\n      go.Panel,\r\n      \"Auto\",\r\n      $(\r\n        go.Shape,\r\n        \"Triangle\",\r\n        {\r\n          stroke: \"white\",\r\n          portId: \"\",\r\n          cursor: \"pointer\",\r\n          fill: \"Red\"\r\n        },\r\n        new go.Binding(\"fromLinkable\", \"from\"),\r\n        new go.Binding(\"toLinkable\", \"to\"),\r\n        new go.Binding(\"fill\", \"color\"),\r\n        new go.Binding(\"figure\").makeTwoWay()\r\n      ),\r\n      $(\r\n        go.TextBlock,\r\n        \"\",\r\n        {\r\n          wrap: go.TextBlock.WrapFit,\r\n          font: \"bold 11pt Helvetica, Arial, sans-serif\",\r\n          stroke: \"whitesmoke\"\r\n        },\r\n        new go.Binding(\"text\", \"name\").makeTwoWay(),\r\n        new go.Binding(\"naturalBounds\", \"textSize\").ofObject()\r\n      )\r\n    ),\r\n    {\r\n      stretch: go.GraphObject.Fill,\r\n      resizable: true,\r\n      minSize: new go.Size(40, 40),\r\n      mouseDrop: function(e, nod) {\r\n        finishDrop(e, nod.containingGroup);\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\nexport default getTriangleTemplate;\r\n","import go from \"gojs\";\r\n\r\nfunction getRoundedRectangleTemplate() {\r\n  let $ = go.GraphObject.make;\r\n\r\n  function finishDrop(e, grp) {\r\n    var ok =\r\n      grp !== null\r\n        ? grp.addMembers(grp.diagram.selection, true)\r\n        : e.diagram.commandHandler.addTopLevelParts(e.diagram.selection, true);\r\n    if (!ok) e.diagram.currentTool.doCancel();\r\n  }\r\n\r\n  return $(\r\n    go.Node,\r\n    \"Spot\",\r\n    new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n      go.Point.stringify\r\n    ),\r\n    $(\r\n      go.Panel,\r\n      \"Auto\",\r\n      $(\r\n        go.Shape,\r\n        \"RoundedRectangle\",\r\n        {\r\n          stroke: \"white\",\r\n          portId: \"\",\r\n          cursor: \"pointer\",\r\n          fill: \"Blue\"\r\n        },\r\n        new go.Binding(\"fromLinkable\", \"from\"),\r\n        new go.Binding(\"toLinkable\", \"to\"),\r\n        new go.Binding(\"fill\", \"color\"),\r\n        new go.Binding(\"figure\").makeTwoWay()\r\n      ),\r\n      $(\r\n        go.TextBlock,\r\n        \"\",\r\n        {\r\n          wrap: go.TextBlock.WrapFit,\r\n          font: \"bold 11pt Helvetica, Arial, sans-serif\",\r\n          stroke: \"whitesmoke\"\r\n        },\r\n        new go.Binding(\"text\", \"name\").makeTwoWay(),\r\n        new go.Binding(\"naturalBounds\", \"textSize\").ofObject()\r\n      )\r\n    ),\r\n    {\r\n      stretch: go.GraphObject.Fill,\r\n      resizable: true,\r\n      minSize: new go.Size(40, 40),\r\n      mouseDrop: function(e, nod) {\r\n        finishDrop(e, nod.containingGroup);\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\nexport default getRoundedRectangleTemplate;\r\n","import go from \"gojs\";\r\nimport getRectangleTemplate from \"./nodeTemplates/rectangleTemplate\";\r\nimport getTriangleTemplate from \"./nodeTemplates/triangleTemplate\";\r\nimport getRoundedRectangleTemplate from \"./nodeTemplates/roundedRectangleTemplate\";\r\n\r\nfunction getNodeTemplates() {\r\n  let templateMap = new go.Map();\r\n  templateMap.add(\"Triangle\", getTriangleTemplate());\r\n  templateMap.add(\"Rectangle\", getRectangleTemplate());\r\n  templateMap.add(\"RoundedRectangle\", getRoundedRectangleTemplate());\r\n  return templateMap;\r\n}\r\n\r\nexport default getNodeTemplates;\r\n","import go from \"gojs\";\r\n\r\nfunction getGroupTemplate() {\r\n  let $ = go.GraphObject.make;\r\n\r\n  function finishDrop(e, grp) {\r\n    var ok =\r\n      grp !== null\r\n        ? grp.addMembers(grp.diagram.selection, true)\r\n        : e.diagram.commandHandler.addTopLevelParts(e.diagram.selection, true);\r\n    if (!ok) e.diagram.currentTool.doCancel();\r\n  }\r\n\r\n  return $(\r\n    go.Group,\r\n    \"Vertical\",\r\n    {\r\n      background: \"transparent\",\r\n      computesBoundsAfterDrag: true,\r\n      mouseDrop: finishDrop,\r\n      handlesDragDropForMembers: true,\r\n      //resizable: true,\r\n      // selectionObjectName: \"SHAPE\",\r\n      // locationObjectName: \"SHAPE\",\r\n      // resizeObjectName: \"SHAPE\",\r\n      layout: $(go.GridLayout, {\r\n        wrappingWidth: Infinity,\r\n        alignment: go.GridLayout.Position,\r\n        cellSize: new go.Size(1, 1),\r\n        spacing: new go.Size(4, 4)\r\n      })\r\n    },\r\n    $(\r\n      go.TextBlock,\r\n      {\r\n        name: \"TxtBlock\",\r\n        alignment: go.Spot.Left,\r\n        font: \"Bold 12pt Sans-Serif\",\r\n        editable: true\r\n      },\r\n      new go.Binding(\"text\", \"Name\")\r\n    ),\r\n    $(\r\n      go.Panel,\r\n      \"Auto\",\r\n      $(\r\n        go.Shape,\r\n        \"RoundedRectangle\",\r\n        {\r\n          name: \"SHAPE\",\r\n          parameter1: 14,\r\n          fill: \"rgba(128,128,128,0.33)\",\r\n          minSize: new go.Size(80, 80)\r\n        },\r\n        new go.Binding(\r\n          \"desiredSize\",\r\n          \"desiredSize\",\r\n          size =>\r\n            new go.Size(size.width, size.height - (size.height > 40 ? 20 : 0))\r\n        ).ofObject()\r\n      ),\r\n      $(go.Placeholder, { padding: 5 })\r\n    ),\r\n    new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n      go.Point.stringify\r\n    )\r\n  );\r\n}\r\n\r\nexport default getGroupTemplate;\r\n","import go from \"gojs\";\r\n\r\nfunction getLinkTemplate() {\r\n  let $ = go.GraphObject.make;\r\n\r\n  return $(\r\n    go.Link,\r\n    {\r\n      routing: go.Link.Orthogonal,\r\n      corner: 5,\r\n      curve: go.Link.JumpOver,\r\n      toShortLength: 4,\r\n      relinkableFrom: true,\r\n      relinkableTo: true,\r\n      reshapable: true,\r\n      resegmentable: true\r\n    },\r\n    $(go.Shape, { isPanelMain: true, stroke: \"green\", strokeWidth: 2 }),\r\n    $(go.Shape, { toArrow: \"standard\", stroke: null, fill: \"green\" }),\r\n    $(\r\n      go.Panel,\r\n      \"Auto\",\r\n      $(go.Shape, \"RoundedRectangle\", { fill: \"#F8F8F8\", stroke: \"green\" }),\r\n      $(\r\n        go.TextBlock,\r\n        \"Info\",\r\n        {\r\n          width: 100,\r\n          wrap: go.TextBlock.WrapFit,\r\n          isMultiline: true,\r\n          textAlign: \"center\",\r\n          font: \"10pt helvetica, arial, sans-serif\",\r\n          stroke: \"#333333\",\r\n          editable: true\r\n        },\r\n        new go.Binding(\"text\").makeTwoWay()\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\nexport default getLinkTemplate;\r\n","import go from \"gojs\";\r\n\r\nfunction addLinkValidationToDiagram(diagram) {\r\n  let sameFigure = (fromnode, fromport, tonode, toport) => {\r\n    return fromnode.data.figure !== tonode.data.figure;\r\n  };\r\n\r\n  diagram.toolManager.linkingTool.linkValidation = sameFigure;\r\n  diagram.toolManager.relinkingTool.linkValidation = sameFigure;\r\n\r\n  diagram.model.linkFromPortIdProperty = \"fromPort\";\r\n  diagram.model.linkToPortIdProperty = \"toPort\";\r\n  diagram.toolManager.linkingTool.temporaryLink.routing = go.Link.Orthogonal;\r\n  diagram.toolManager.relinkingTool.temporaryLink.routing = go.Link.Orthogonal;\r\n\r\n  let checkLinks = function(object) {\r\n    object = diagram.findNodeForKey(object.key);\r\n    let connectedLinks = object.findLinksConnected();\r\n\r\n    let toDelete = [];\r\n\r\n    while (connectedLinks.next()) {\r\n      let link = connectedLinks.value;\r\n      if (\r\n        link.fromNode.data.key !== object.data.key &&\r\n        link.fromNode.data.figure === object.data.figure\r\n      ) {\r\n        toDelete.push(link);\r\n      } else if (\r\n        link.toNode.data.key !== object.data.key &&\r\n        link.toNode.data.figure === object.data.figure\r\n      ) {\r\n        toDelete.push(link);\r\n      }\r\n    }\r\n    diagram.startTransaction(\"Remove invalid links\");\r\n    diagram.removeParts(toDelete);\r\n    diagram.commitTransaction(\"Remove invalid links\");\r\n  };\r\n\r\n  diagram.addModelChangedListener(function(e) {\r\n    if (e.propertyName === \"figure\") {\r\n      checkLinks(e.object);\r\n    }\r\n  });\r\n}\r\n\r\nexport default addLinkValidationToDiagram;\r\n","function addShortcutsToDiagram(diagram) {\r\n  let x, y;\r\n  document.addEventListener(\"mousemove\", e => {\r\n    x = e.pageX;\r\n    y = e.pageY;\r\n  });\r\n  document.addEventListener(\"keydown\", e => {\r\n    if (e.key === \"n\") {\r\n      diagram.startTransaction(\"add node\");\r\n      diagram.model.addNodeData({\r\n        name: \"Green\",\r\n        stroke: \"white\",\r\n        color: \"Green\",\r\n        category: \"roundedRectangle\",\r\n        // from: true,\r\n        // to: true,\r\n        loc:\r\n          \"\" +\r\n          (x + diagram.position.x - diagram.div.offsetLeft) +\r\n          \" \" +\r\n          (y + diagram.position.y - diagram.div.offsetTop)\r\n      });\r\n      diagram.commitTransaction(\"add node\");\r\n    }\r\n  });\r\n}\r\n\r\nexport default addShortcutsToDiagram;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { diagramModified, diagram } from \"../store/actions\";\r\nimport getDiagram from \"../goJs/elements/diagram\";\r\nimport getNodeTemplates from \"../goJs/templates/nodeTemplates\";\r\nimport getGroupTemplate from \"../goJs/templates/groupTemplate\";\r\nimport getLinkTemplate from \"../goJs/templates/linkTemplate\";\r\nimport addLinkValidationToDiagram from \"../goJs/validators/linkValidation\";\r\nimport addShortcutsToDiagram from \"../goJs/shortcuts/shortcuts\";\r\n\r\nclass Diagram extends Component {\r\n  componentDidMount() {\r\n    this.diagram = getDiagram(this.props.id);\r\n    this.diagram.nodeTemplateMap = getNodeTemplates();\r\n    this.diagram.groupTemplate = getGroupTemplate();\r\n    this.diagram.linkTemplate = getLinkTemplate();\r\n    addLinkValidationToDiagram(this.diagram);\r\n    addShortcutsToDiagram(this.diagram);\r\n    this.addModifiedListener();\r\n    this.props.diagram(this.diagram);\r\n  }\r\n\r\n  state = {};\r\n\r\n  render() {\r\n    return <div id={this.props.id} />;\r\n  }\r\n\r\n  addModifiedListener() {\r\n    this.diagram.addDiagramListener(\"Modified\", e => {\r\n      this.props.diagramModified(true);\r\n    });\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    modified: state.modified,\r\n    diagram: state.diagram\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = { diagramModified, diagram };\r\n\r\nexport default (Diagram = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Diagram));\r\n","import go from \"gojs\";\r\n\r\nfunction getPalette(paletteDiv) {\r\n  let $ = go.GraphObject.make;\r\n  return $(go.Palette, paletteDiv, {\r\n    scrollsPageOnFocus: false,\r\n    model: new go.GraphLinksModel([\r\n      {\r\n        name: \"Green\",\r\n        category: \"RoundedRectangle\",\r\n        figure: \"RoundedRectangle\",\r\n        color: \"Green\",\r\n        from: true,\r\n        to: true\r\n      },\r\n      {\r\n        name: \"Blue\",\r\n        color: \"Blue\",\r\n        category: \"Rectangle\",\r\n        figure: \"Rectangle\",\r\n        from: true,\r\n        to: true\r\n      },\r\n      {\r\n        name: \"Red\",\r\n        color: \"Red\",\r\n        category: \"Triangle\",\r\n        figure: \"Triangle\",\r\n        from: true,\r\n        to: true\r\n      },\r\n      { stroke: \"white\", Name: \"Group\", isGroup: true }\r\n    ])\r\n  });\r\n}\r\n\r\nexport default getPalette;\r\n","import React, { Component } from \"react\";\r\nimport getPalette from \"../goJs/elements/palette\";\r\nimport getNodeTemplates from \"../goJs/templates/nodeTemplates\";\r\nimport getGroupTemplate from \"../goJs/templates/groupTemplate\";\r\n\r\nclass Palette extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    this.palette = getPalette(this.props.id);\r\n    this.palette.nodeTemplateMap = getNodeTemplates();\r\n    this.palette.groupTemplate = getGroupTemplate();\r\n  }\r\n\r\n  render() {\r\n    return <div id={this.props.id} />;\r\n  }\r\n}\r\n\r\nexport default Palette;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass UpperBar extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div id={this.props.id}>\r\n        {this.props.modified.modified ? \"Diagramming App*\" : \"Diagramming App\"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    modified: state.modified\r\n  };\r\n};\r\n\r\nexport default (UpperBar = connect(mapStateToProps)(UpperBar));\r\n","import React from \"react\";\n\nconst Select = ({ options, onChange, def, ...rest }) => {\n  return (\n    <select onChange={onChange} {...rest} defaultValue={def}>\n      {options.map((option, n) => (\n        <option key={n} value={option.value}>\n          {option.label}\n        </option>\n      ))}\n    </select>\n  );\n};\n\nexport default Select;\n","import React, { Component } from \"react\";\r\nimport Select from \"./common/select\";\r\nimport go from \"gojs\";\r\n\r\nclass Inspector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state.nameInput = \"\";\r\n    this.state.colorSelect = \"\";\r\n    this.state.categorySelect = \"\";\r\n  }\r\n\r\n  state = {\r\n    colors: [\r\n      { value: \"Green\", label: \"Green\" },\r\n      { value: \"Grey\", label: \"Grey\" },\r\n      { value: \"Blue\", label: \"Blue\" },\r\n      { value: \"Red\", label: \"Red\" },\r\n      { value: \"Purple\", label: \"Purple\" }\r\n    ],\r\n    figures: [\r\n      { value: \"RoundedRectangle\", label: \"Rounded Rectangle\" },\r\n      { value: \"Triangle\", label: \"Triangle\" },\r\n      { value: \"Rectangle\", label: \"Rectangle\" }\r\n    ],\r\n    inspectedObject: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    let { diagram } = this.props;\r\n    diagram.addModelChangedListener(e => {\r\n      if (e.isTransactionFinished) {\r\n        this.inspectObject();\r\n      }\r\n    });\r\n    diagram.addDiagramListener(\"ChangedSelection\", () => {\r\n      this.inspectObject();\r\n    });\r\n  }\r\n\r\n  inspectObject = object => {\r\n    let { diagram } = this.props;\r\n    let inspectedObject = object;\r\n    if (inspectedObject === undefined) {\r\n      inspectedObject = diagram.selection.first();\r\n      this.updateFields();\r\n    }\r\n    if (\r\n      inspectedObject instanceof go.Group ||\r\n      inspectedObject instanceof go.Link\r\n    ) {\r\n      this.setState({ inspectedObject: null });\r\n      return;\r\n    }\r\n    if (inspectedObject === null || this.inspectedObject === inspectedObject) {\r\n      this.setState({ inspectedObject });\r\n    }\r\n    this.setState({ inspectedObject });\r\n    this.updateFields();\r\n  };\r\n\r\n  updateFields = () => {\r\n    if (\r\n      this.state.inspectedObject !== null &&\r\n      this.state.inspectedObject.data !== null &&\r\n      this.state.inspectedObject !== undefined\r\n    ) {\r\n      this.setState({\r\n        nameInput: this.state.inspectedObject.data.name,\r\n        colorSelect: this.state.inspectedObject.data.color,\r\n        figureSelect: this.state.inspectedObject.data.figure\r\n      });\r\n    }\r\n  };\r\n\r\n  update = (value, name) => {\r\n    let { diagram } = this.props;\r\n    let { inspectedObject } = this.state;\r\n    if (inspectedObject === null) return;\r\n    diagram.startTransaction(\"set all properties\");\r\n    diagram.model.setDataProperty(inspectedObject.data, name, value);\r\n    diagram.commitTransaction(\"set all properties\");\r\n  };\r\n\r\n  render() {\r\n    if (this.state.inspectedObject === null) {\r\n      return <div id={this.props.id} />;\r\n    }\r\n\r\n    return (\r\n      <div id={this.props.id}>\r\n        <input\r\n          type=\"text\"\r\n          onChange={e => this.update(e.target.value, \"name\")}\r\n          value={this.state.nameInput}\r\n        />\r\n        <Select\r\n          onChange={e => this.update(e.target.value, \"color\")}\r\n          options={this.state.colors}\r\n          value={this.state.colorSelect}\r\n        />\r\n        <Select\r\n          onChange={e => this.update(e.target.value, \"figure\")}\r\n          options={this.state.figures}\r\n          value={this.state.figureSelect}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Inspector;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport go from \"gojs\";\r\nimport { diagramModified } from \"../store/actions\";\r\n\r\nclass Tools extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      Object.keys(this.props.diagram).length !== 0 && (\r\n        <div id=\"tools\">\r\n          {this.tools.map(tool => (\r\n            <button\r\n              className=\"toolsButton\"\r\n              key={tool.name}\r\n              onClick={tool.onClick}\r\n            >\r\n              {tool.name}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n\r\n  tools = [\r\n    {\r\n      name: \"Zoom In\",\r\n      onClick: () => this.props.diagram.diagram.commandHandler.increaseZoom()\r\n    },\r\n    {\r\n      name: \"Zoom Out\",\r\n      onClick: () => this.props.diagram.diagram.commandHandler.decreaseZoom()\r\n    },\r\n    {\r\n      name: \"Undo\",\r\n      onClick: () => this.props.diagram.diagram.commandHandler.undo()\r\n    },\r\n    {\r\n      name: \"Redo\",\r\n      onClick: () => this.props.diagram.diagram.commandHandler.redo()\r\n    },\r\n    {\r\n      name: \"Save\",\r\n      onClick: () => {\r\n        sessionStorage.savedDiagram = this.props.diagram.diagram.model.toJson();\r\n        this.props.diagram.diagram.isModified = false;\r\n        this.props.diagramModified(false);\r\n      }\r\n    },\r\n    {\r\n      name: \"Load\",\r\n      onClick: () => {\r\n        if (sessionStorage.savedDiagram) {\r\n          this.props.diagram.diagram.model = go.Model.fromJson(\r\n            sessionStorage.savedDiagram\r\n          );\r\n        }\r\n      }\r\n    }\r\n  ];\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    diagram: state.diagram,\r\n    modified: state.modified\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = { diagramModified };\r\n\r\nexport default (Tools = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Tools));\r\n","import go from \"gojs\";\r\n\r\nfunction makeThumbnail(diagram) {\r\n  let image = diagram.makeImage({\r\n    type: \"image/jpg\",\r\n    size: new go.Size(250, 250),\r\n    background: \"white\"\r\n  });\r\n  return image;\r\n}\r\n\r\nexport default makeThumbnail;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport makeThumbnail from \"../goJs/thumbnails/thumbnails\";\r\n\r\nclass Thumbnail extends Component {\r\n  state = {\r\n    image: null\r\n  };\r\n  render() {\r\n    return (\r\n      <div id=\"thumbnail\">\r\n        <button className=\"toolsButton\" onClick={this.makeThumbnail}>\r\n          Make Image\r\n        </button>\r\n        <div>\r\n          <img\r\n            src={this.state.image === null ? \"\" : this.state.image.src}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  makeThumbnail = () => {\r\n    this.setState({\r\n      image:\r\n        Object.keys(this.props.diagram).length !== 0 &&\r\n        makeThumbnail(this.props.diagram.diagram)\r\n    });\r\n  };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    diagram: state.diagram\r\n  };\r\n};\r\n\r\nexport default (Thumbnail = connect(mapStateToProps)(Thumbnail));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Inspector from \"./inspector\";\r\nimport Tools from \"./tools\";\r\nimport Thumbnail from \"./thumbnail\";\r\n\r\nclass Menu extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div id={this.props.id}>\r\n        {Object.keys(this.props.diagram).length !== 0 && (\r\n          <Inspector diagram={this.props.diagram.diagram} id=\"inspector\" />\r\n        )}\r\n        <Tools />\r\n        <Thumbnail />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    diagram: state.diagram\r\n  };\r\n};\r\n\r\nexport default (Menu = connect(mapStateToProps)(Menu));\r\n","import React from \"react\";\r\nimport Diagram from \"./components/diagram\";\r\nimport Palette from \"./components/palette\";\r\nimport UpperBar from \"./components/upperBar\";\r\nimport \"../src/styles/styles.css\";\r\nimport Menu from \"./components/menu\";\r\n\r\nfunction App() {\r\n  return (\r\n    <React.Fragment>\r\n      <UpperBar id=\"upperBar\" />\r\n      <div id=\"main\">\r\n        <Palette id=\"palette\" />\r\n        <Diagram id=\"diagram\" />\r\n        <Menu id=\"menu\" />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { store } from \"./store/store\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}